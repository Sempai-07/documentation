<!doctype html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Telegram Bot API Action Handler</title>
    <link rel="stylesheet" href="../css/methods.css" />
    <link id="style" rel="stylesheet" href="../css/prism-vs.css" />
  </head>
  <body>
    <div>
      <button id="themeToggle">Switch theme</button>
      <a href="../index.html">Home</a>
    </div>
    <br />
    <div>
      <h1>Telegram Bot API Action Handler</h1>
      <p><strong>Description:</strong></p>
      <p>
        Use this action handler to register custom action functions for your
        Telegram bot. The action handler listens for specific action data and
        executes the provided callback function when the action is triggered.
      </p>
      <p><strong>Parameters:</strong></p>
      <table>
        <thead>
          <tr>
            <th>Parameter</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>data</code></td>
            <td>
              The action data string or an array of action data strings to
              listen for.
              <br />
              <strong>Type:</strong> <code>string | string[]</code>
            </td>
          </tr>
          <tr>
            <td><code>callback</code></td>
            <td>
              The callback function to handle the action when triggered.
              <br />
              <strong>Type:</strong>
              <code
                >(callbackQuery: CallbackQuery & Context&ltF&gt) =&gt void</code
              >
            </td>
          </tr>
          <tr>
            <td>
              <code
                >answer<span class="optional-parameter">(optional)</span></code
              >
            </td>
            <td>
              Whether to answer the action with a response. If set to
              <code>true</code>, the action will be acknowledged with an answer.
              <br />
              <strong>Type:</strong> <code>boolean</code>
            </td>
          </tr>
        </tbody>
      </table>
      <p><strong>Example:</strong></p>
      <pre><code class="language-javascript">
// Example of using the action handler to register "like" action

const { TelegramBot, Markup } = require("telegramsjs");
const bot = new TelegramBot("BOT_TOKEN");

// Create Markup.callback
const emotions = {
  inline_keyboard: [[Markup.callback("like video", "like"), Markup.callback("dislike video", "dislike")]]
};

// Create cmd
bot.command("marmok", (ctx) => {
  ctx.reply("https://youtu.be/J6a57KEV6hY", {
    reply_markup: emotions
  });
});

// Action handler for "like" action
bot.action("like", (ctx) => {
  const username = ctx.first_name;
  ctx.reply(`${username}, clicked like â¤ï¸`);
});

// Action handler for multiple actions: "like" and "dislike"
bot.action(["like", "dislike"], (ctx) => {
  const username = ctx.first_name;
  if (ctx.data === "like") {
    ctx.reply(`${username}, clicked like â¤ï¸`);
  } else {
    ctx.reply(`${username}, clicked on dislike ðŸ« `);
  }
});

// Action handler for "dislike" action with interactive answer
bot.action("dislike", (ctx) => {
  const username = ctx.first_name;
  ctx.reply(`${username}, clicked on dislike ðŸ« `);
}, true);

bot.login();
    </code></pre>
      <div class="navigation">
        <button class="copy-button" onclick="copyCode()">Copy Code</button>
        <div class="links-navigation">
          <a href="./command.html">command</a>
          <a href="./hears.html">hears</a>
        </div>
      </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/prismjs"></script>
    <script>
      function copyCode() {
        const codeElement = document.querySelector("code.language-javascript");
        const code = codeElement.textContent;
        const tempTextarea = document.createElement("textarea");
        tempTextarea.value = code;
        document.body.appendChild(tempTextarea);
        tempTextarea.select();
        document.execCommand("copy");
        document.body.removeChild(tempTextarea);
        alert("Code copied to clipboard!");
      }
    </script>
    <script src="../js/code-block.js"></script>
  </body>
</html>
